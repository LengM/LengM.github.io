<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Android笔记 | 李明阳の幻想乡</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Android笔记</h1><a id="logo" href="/.">李明阳の幻想乡</a><p class="description">boy ♂ next ♂ door</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Android笔记</h1><div class="post-meta">Oct 11, 2017<span> | </span><span class="category"><a href="/categories/Android/">Android</a></span></div><div class="clear"><div id="toc" class="toc-article"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#学习Android过程中的一些笔记"><span class="toc-number">1.</span> <span class="toc-text">学习Android过程中的一些笔记</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#TextView粗体"><span class="toc-number">1.0.1.</span> <span class="toc-text">TextView粗体</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#关掉所要到的界面中间的activity"><span class="toc-number">1.0.2.</span> <span class="toc-text">关掉所要到的界面中间的activity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LinearLayout点击变换背景颜色"><span class="toc-number">1.0.3.</span> <span class="toc-text">LinearLayout点击变换背景颜色</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ListView嵌套ListView-itemClick失效"><span class="toc-number">1.0.4.</span> <span class="toc-text">ListView嵌套ListView,itemClick失效</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#取消子ListView控件的焦点"><span class="toc-number">1.0.5.</span> <span class="toc-text">取消子ListView控件的焦点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#设置透明度"><span class="toc-number">1.0.6.</span> <span class="toc-text">设置透明度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#去除Button边框阴影"><span class="toc-number">1.0.7.</span> <span class="toc-text">去除Button边框阴影</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#三星机型调用系统相机后，会出现自动旋转照片的问题，详细解决方法"><span class="toc-number">1.0.8.</span> <span class="toc-text">三星机型调用系统相机后，会出现自动旋转照片的问题，详细解决方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#对于开关按钮，不建议设置禁止双击，可能会出现实际状态和按钮状态不符问题"><span class="toc-number">1.0.9.</span> <span class="toc-text">对于开关按钮，不建议设置禁止双击，可能会出现实际状态和按钮状态不符问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#singleLine过时替代"><span class="toc-number">1.0.10.</span> <span class="toc-text">singleLine过时替代</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#button默认英文大写"><span class="toc-number">1.0.11.</span> <span class="toc-text">button默认英文大写</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#解决ListView的item点击失效问题"><span class="toc-number">1.0.12.</span> <span class="toc-text">解决ListView的item点击失效问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#解决ScrollView嵌套ListView运行后最先显示出来的位置不在顶部而是中间问题"><span class="toc-number">1.0.13.</span> <span class="toc-text">解决ScrollView嵌套ListView运行后最先显示出来的位置不在顶部而是中间问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#状态栏设置"><span class="toc-number">1.0.14.</span> <span class="toc-text">状态栏设置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TextView文字颜色无法设置"><span class="toc-number">1.0.15.</span> <span class="toc-text">TextView文字颜色无法设置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#include引入toolbar不显示，或出现空指针情况"><span class="toc-number">1.0.16.</span> <span class="toc-text">include引入toolbar不显示，或出现空指针情况</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#设置小键盘回车按钮"><span class="toc-number">1.0.17.</span> <span class="toc-text">设置小键盘回车按钮</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Android去除EditView自动焦点获取"><span class="toc-number">1.0.18.</span> <span class="toc-text">Android去除EditView自动焦点获取</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Error-Execution-failed-for-task-‘-student-processDebugManifest’"><span class="toc-number">1.0.19.</span> <span class="toc-text">Error:Execution failed for task ‘:student:processDebugManifest’.</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ImageView图片显示不全可将属性调整如下"><span class="toc-number">1.0.20.</span> <span class="toc-text">ImageView图片显示不全可将属性调整如下</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#防止dialog窗体泄露-WindowLeaked"><span class="toc-number">1.0.21.</span> <span class="toc-text">防止dialog窗体泄露(WindowLeaked)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#设置适配屏幕-当自己的标题栏被顶部状态栏覆盖时使用"><span class="toc-number">1.0.22.</span> <span class="toc-text">设置适配屏幕(当自己的标题栏被顶部状态栏覆盖时使用)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PullToRefreshListView的layout-width、layout-height属性必须是match-parent，否则数据将无法显示"><span class="toc-number">1.0.23.</span> <span class="toc-text">PullToRefreshListView的layout_width、layout_height属性必须是match_parent，否则数据将无法显示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#隐藏软键盘"><span class="toc-number">1.0.24.</span> <span class="toc-text">隐藏软键盘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DatePicker日期控件设置不可输入"><span class="toc-number">1.0.25.</span> <span class="toc-text">DatePicker日期控件设置不可输入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#设置按钮不可点击"><span class="toc-number">1.0.26.</span> <span class="toc-text">设置按钮不可点击</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#包名不一致：系统会认为是个新的软件，这就不算升级了"><span class="toc-number">1.0.27.</span> <span class="toc-text">包名不一致：系统会认为是个新的软件，这就不算升级了</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#小提示框"><span class="toc-number">1.0.28.</span> <span class="toc-text">小提示框</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#启动service"><span class="toc-number">1.0.29.</span> <span class="toc-text">启动service</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#若从图库选择照片错误，路径不对"><span class="toc-number">1.0.30.</span> <span class="toc-text">若从图库选择照片错误，路径不对</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#隐藏EditText中的下划线"><span class="toc-number">1.0.31.</span> <span class="toc-text">隐藏EditText中的下划线</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#图片裁剪-在处理相机或相册返回时可以调用"><span class="toc-number">1.0.32.</span> <span class="toc-text">图片裁剪(在处理相机或相册返回时可以调用)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#设置TextView显示一行超过部分以-显示"><span class="toc-number">1.0.33.</span> <span class="toc-text">设置TextView显示一行超过部分以..显示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#设置失效时，原因是超过的首要校验条件是TextView布局的宽度，如果是match-parent并且很宽的话，该效果会“失效”"><span class="toc-number">1.0.34.</span> <span class="toc-text">设置失效时，原因是超过的首要校验条件是TextView布局的宽度，如果是match_parent并且很宽的话，该效果会“失效”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#设置文本2行显示，多出部分省略号"><span class="toc-number">1.0.35.</span> <span class="toc-text">设置文本2行显示，多出部分省略号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#刷新ListView"><span class="toc-number">1.0.36.</span> <span class="toc-text">刷新ListView</span></a></li></ol></li></ol></li></ol></div></div><div class="post-content"><h1 id="学习Android过程中的一些笔记"><a href="#学习Android过程中的一些笔记" class="headerlink" title="学习Android过程中的一些笔记"></a>学习Android过程中的一些笔记</h1><a id="more"></a>
<h3 id="TextView粗体"><a href="#TextView粗体" class="headerlink" title="TextView粗体"></a>TextView粗体</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">android:textStyle=&quot;bold&quot;</div></pre></td></tr></table></figure>
<h3 id="关掉所要到的界面中间的activity"><a href="#关掉所要到的界面中间的activity" class="headerlink" title="关掉所要到的界面中间的activity"></a>关掉所要到的界面中间的activity</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">intent</span><span class="selector-class">.setFlags</span>(<span class="selector-tag">Intent</span><span class="selector-class">.FLAG_ACTIVITY_CLEAR_TOP</span>);</div></pre></td></tr></table></figure>
<h3 id="LinearLayout点击变换背景颜色"><a href="#LinearLayout点击变换背景颜色" class="headerlink" title="LinearLayout点击变换背景颜色"></a>LinearLayout点击变换背景颜色</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">android:<span class="attribute">clickable</span>=<span class="string">"true"</span></div><div class="line"></div><div class="line">&lt;item</div><div class="line">android:<span class="attribute">drawable</span>=<span class="string">"@drawable/register_btn_pressed"</span></div><div class="line">android:<span class="attribute">state_focused</span>=<span class="string">"true"</span>/&gt;</div><div class="line">&lt;item</div><div class="line">android:<span class="attribute">drawable</span>=<span class="string">"@drawable/register_btn_pressed"</span></div><div class="line">android:<span class="attribute">state_pressed</span>=<span class="string">"true"</span>/&gt;</div><div class="line">&lt;item android:<span class="attribute">drawable</span>=<span class="string">"@drawable/register_btn_normal"</span>/&gt;</div></pre></td></tr></table></figure>
<h3 id="ListView嵌套ListView-itemClick失效"><a href="#ListView嵌套ListView-itemClick失效" class="headerlink" title="ListView嵌套ListView,itemClick失效"></a>ListView嵌套ListView,itemClick失效</h3><p>设置父ListView的最外层布局中加入<br><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">android:</span>descendantFocusability=<span class="string">"blocksDescendants"</span></div></pre></td></tr></table></figure></p>
<h3 id="取消子ListView控件的焦点"><a href="#取消子ListView控件的焦点" class="headerlink" title="取消子ListView控件的焦点"></a>取消子ListView控件的焦点</h3><figure class="highlight abnf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">listview.setFocusable(false)<span class="comment">;</span></div><div class="line">listview.setClickable(false)<span class="comment">;</span></div></pre></td></tr></table></figure>
<h3 id="设置透明度"><a href="#设置透明度" class="headerlink" title="设置透明度"></a>设置透明度</h3><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">android:</span>alpha=<span class="string">"0.5"</span></div></pre></td></tr></table></figure>
<h3 id="去除Button边框阴影"><a href="#去除Button边框阴影" class="headerlink" title="去除Button边框阴影"></a>去除Button边框阴影</h3><figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attr">style</span>=<span class="string">"?android:attr/borderlessButtonStyle"</span></div></pre></td></tr></table></figure>
<h3 id="三星机型调用系统相机后，会出现自动旋转照片的问题，详细解决方法"><a href="#三星机型调用系统相机后，会出现自动旋转照片的问题，详细解决方法" class="headerlink" title="三星机型调用系统相机后，会出现自动旋转照片的问题，详细解决方法"></a>三星机型调用系统相机后，会出现自动旋转照片的问题，详细解决方法</h3><p><a href="https://github.com/LengM/MyApplication/blob/master/app/src/main/java/com/yng/ming/myapplication/util/img/PictureUtil.java" target="_blank" rel="external">https://github.com/LengM/MyApplication/blob/master/app/src/main/java/com/yng/ming/myapplication/util/img/PictureUtil.java</a></p>
<h3 id="对于开关按钮，不建议设置禁止双击，可能会出现实际状态和按钮状态不符问题"><a href="#对于开关按钮，不建议设置禁止双击，可能会出现实际状态和按钮状态不符问题" class="headerlink" title="对于开关按钮，不建议设置禁止双击，可能会出现实际状态和按钮状态不符问题"></a>对于开关按钮，不建议设置禁止双击，可能会出现实际状态和按钮状态不符问题</h3><h3 id="singleLine过时替代"><a href="#singleLine过时替代" class="headerlink" title="singleLine过时替代"></a>singleLine过时替代</h3><p>EditText：<br><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">android:</span>inputType=<span class="string">"text"</span></div><div class="line"><span class="symbol">android:</span>lines=<span class="string">"1"</span></div></pre></td></tr></table></figure></p>
<h3 id="button默认英文大写"><a href="#button默认英文大写" class="headerlink" title="button默认英文大写"></a>button默认英文大写</h3><p>button将默认英文大写除去<br><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">android:</span>textAllCaps=<span class="string">"false"</span></div></pre></td></tr></table></figure></p>
<h3 id="解决ListView的item点击失效问题"><a href="#解决ListView的item点击失效问题" class="headerlink" title="解决ListView的item点击失效问题"></a>解决ListView的item点击失效问题</h3><p>在Item布局的根布局加上<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Android:<span class="attribute">descendantFocusability</span>=”blocksDescendants”</div></pre></td></tr></table></figure></p>
<h3 id="解决ScrollView嵌套ListView运行后最先显示出来的位置不在顶部而是中间问题"><a href="#解决ScrollView嵌套ListView运行后最先显示出来的位置不在顶部而是中间问题" class="headerlink" title="解决ScrollView嵌套ListView运行后最先显示出来的位置不在顶部而是中间问题"></a>解决ScrollView嵌套ListView运行后最先显示出来的位置不在顶部而是中间问题</h3><figure class="highlight abnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">listView.setFocusable(false)<span class="comment">;</span></div></pre></td></tr></table></figure>
<h3 id="状态栏设置"><a href="#状态栏设置" class="headerlink" title="状态栏设置"></a>状态栏设置</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 透明状态栏</span></div><div class="line"><span class="keyword">if</span> (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) &#123;</div><div class="line">    Window window = getWindow();</div><div class="line">    window.clearFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS</div><div class="line">            | WindowManager.LayoutParams.FLAG_TRANSLUCENT_NAVIGATION);</div><div class="line">    window.getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN</div><div class="line">            | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION | View.SYSTEM_UI_FLAG_LAYOUT_STABLE);</div><div class="line">    window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);</div><div class="line">    <span class="comment">//设置状态栏的颜色</span></div><div class="line">    window.setStatusBarColor(Color.BLACK);</div><div class="line">    window.setNavigationBarColor(Color.BLACK);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="TextView文字颜色无法设置"><a href="#TextView文字颜色无法设置" class="headerlink" title="TextView文字颜色无法设置"></a>TextView文字颜色无法设置</h3><figure class="highlight erlang"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="title">getContext</span><span class="params">()</span>.<span class="title">getResources</span><span class="params">()</span>.<span class="title">getColor</span><span class="params">(textColor)</span></span></div></pre></td></tr></table></figure>
<h3 id="include引入toolbar不显示，或出现空指针情况"><a href="#include引入toolbar不显示，或出现空指针情况" class="headerlink" title="include引入toolbar不显示，或出现空指针情况"></a>include引入toolbar不显示，或出现空指针情况</h3><p>原因是view值为null，重新给一下值即可<br><figure class="highlight gauss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (<span class="built_in">null</span> == <span class="built_in">view</span>) &#123;</div><div class="line">    <span class="built_in">view</span> = getView();</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="设置小键盘回车按钮"><a href="#设置小键盘回车按钮" class="headerlink" title="设置小键盘回车按钮"></a>设置小键盘回车按钮</h3><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">android:</span>imeActionLabel=<span class="string">"搜索"</span></div><div class="line"><span class="symbol">android:</span>imeOptions=<span class="string">"actionSearch"</span></div></pre></td></tr></table></figure>
<p>搭配<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">et_address</span><span class="selector-class">.setImeOptions</span>(<span class="selector-tag">EditorInfo</span><span class="selector-class">.IME_ACTION_SEARCH</span>);</div><div class="line"><span class="selector-tag">et_address</span><span class="selector-class">.setOnEditorActionListener</span>(<span class="selector-tag">new</span> <span class="selector-tag">TextView</span><span class="selector-class">.OnEditorActionListener</span>()&#123;&#125;);</div></pre></td></tr></table></figure></p>
<h3 id="Android去除EditView自动焦点获取"><a href="#Android去除EditView自动焦点获取" class="headerlink" title="Android去除EditView自动焦点获取"></a>Android去除EditView自动焦点获取</h3><p>将EditText的父级控设置成<br><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">android:</span>focusable=<span class="string">"true"</span></div><div class="line"><span class="symbol">android:</span>focusableInTouchMode=<span class="string">"true"</span></div></pre></td></tr></table></figure></p>
<h3 id="Error-Execution-failed-for-task-‘-student-processDebugManifest’"><a href="#Error-Execution-failed-for-task-‘-student-processDebugManifest’" class="headerlink" title="Error:Execution failed for task ‘:student:processDebugManifest’."></a>Error:Execution failed for task ‘:student:processDebugManifest’.</h3><p>> Manifest merger failed with multiple errors, see logs<br>gradlew processDebugManifest –stacktrace</p>
<h3 id="ImageView图片显示不全可将属性调整如下"><a href="#ImageView图片显示不全可将属性调整如下" class="headerlink" title="ImageView图片显示不全可将属性调整如下"></a>ImageView图片显示不全可将属性调整如下</h3><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">android:</span>scaleType=<span class="string">"centerCrop"</span></div></pre></td></tr></table></figure>
<h3 id="防止dialog窗体泄露-WindowLeaked"><a href="#防止dialog窗体泄露-WindowLeaked" class="headerlink" title="防止dialog窗体泄露(WindowLeaked)"></a>防止dialog窗体泄露(WindowLeaked)</h3><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Override</span></div><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">onAfter</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">super</span>.onAfter();</div><div class="line">    <span class="keyword">if</span> (dialog != <span class="keyword">null</span> &amp;&amp; dialog.isShowing()) &#123;</div><div class="line">        dialog.dismiss();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="设置适配屏幕-当自己的标题栏被顶部状态栏覆盖时使用"><a href="#设置适配屏幕-当自己的标题栏被顶部状态栏覆盖时使用" class="headerlink" title="设置适配屏幕(当自己的标题栏被顶部状态栏覆盖时使用)"></a>设置适配屏幕(当自己的标题栏被顶部状态栏覆盖时使用)</h3><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">android:</span>fitsSystemWindows=<span class="string">"true"</span></div></pre></td></tr></table></figure>
<h3 id="PullToRefreshListView的layout-width、layout-height属性必须是match-parent，否则数据将无法显示"><a href="#PullToRefreshListView的layout-width、layout-height属性必须是match-parent，否则数据将无法显示" class="headerlink" title="PullToRefreshListView的layout_width、layout_height属性必须是match_parent，否则数据将无法显示"></a>PullToRefreshListView的layout_width、layout_height属性必须是match_parent，否则数据将无法显示</h3><p>PullToRefreshListView刷新：<br><figure class="highlight abnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">onRefreshComplete()<span class="comment">;</span></div></pre></td></tr></table></figure></p>
<h3 id="隐藏软键盘"><a href="#隐藏软键盘" class="headerlink" title="隐藏软键盘"></a>隐藏软键盘</h3><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">InputMethodManager imm = (InputMethodManager) getSystemService(<span class="built_in">Context</span>.INPUT_METHOD_SERVICE)<span class="comment">;</span></div><div class="line">imm.hideSoftInputFromWindow(editText.getWindowToken(), <span class="number">0</span>)<span class="comment">;</span></div></pre></td></tr></table></figure>
<h3 id="DatePicker日期控件设置不可输入"><a href="#DatePicker日期控件设置不可输入" class="headerlink" title="DatePicker日期控件设置不可输入"></a>DatePicker日期控件设置不可输入</h3><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">android:</span>descendantFocusability=<span class="string">"blocksDescendants"</span></div></pre></td></tr></table></figure>
<h3 id="设置按钮不可点击"><a href="#设置按钮不可点击" class="headerlink" title="设置按钮不可点击"></a>设置按钮不可点击</h3><figure class="highlight abnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">btn_start.setEnabled(false)<span class="comment">;</span></div></pre></td></tr></table></figure>
<h3 id="包名不一致：系统会认为是个新的软件，这就不算升级了"><a href="#包名不一致：系统会认为是个新的软件，这就不算升级了" class="headerlink" title="包名不一致：系统会认为是个新的软件，这就不算升级了"></a>包名不一致：系统会认为是个新的软件，这就不算升级了</h3><p>签名不一致：系统会提示先卸载之前安装的版本，才能继续安装新的</p>
<h3 id="小提示框"><a href="#小提示框" class="headerlink" title="小提示框"></a>小提示框</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">Toast</span><span class="selector-class">.makeText</span>(<span class="selector-tag">context</span>,"",<span class="selector-tag">Toast</span><span class="selector-class">.LENGTH_SHORT</span>)<span class="selector-class">.show</span>();</div></pre></td></tr></table></figure>
<h3 id="启动service"><a href="#启动service" class="headerlink" title="启动service"></a>启动service</h3><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">startService(<span class="name">new</span> Intent(<span class="name">DriverActivity</span>.this, LocationService.class))<span class="comment">;</span></div></pre></td></tr></table></figure>
<p>使用startService启动的service会无限期运行下去， 只有在外部调用Context的stopService或Service内部调用Service的stopSelf方法时，该Service才会停止运行并销毁</p>
<h3 id="若从图库选择照片错误，路径不对"><a href="#若从图库选择照片错误，路径不对" class="headerlink" title="若从图库选择照片错误，路径不对"></a>若从图库选择照片错误，路径不对</h3><figure class="highlight fortran"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">Intent</span> intent1 = new <span class="keyword">Intent</span>(</div><div class="line">        <span class="keyword">Intent</span>.ACTION_PICK,</div><div class="line">        android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);</div></pre></td></tr></table></figure>
<h3 id="隐藏EditText中的下划线"><a href="#隐藏EditText中的下划线" class="headerlink" title="隐藏EditText中的下划线"></a>隐藏EditText中的下划线</h3><figure class="highlight arduino"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">android:<span class="built_in">background</span>=<span class="string">"@null"</span></div></pre></td></tr></table></figure>
<h3 id="图片裁剪-在处理相机或相册返回时可以调用"><a href="#图片裁剪-在处理相机或相册返回时可以调用" class="headerlink" title="图片裁剪(在处理相机或相册返回时可以调用)"></a>图片裁剪(在处理相机或相册返回时可以调用)</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">startCut</span><span class="params">(Uri path)</span> </span>&#123;</div><div class="line">    Intent intent = <span class="keyword">new</span> Intent(<span class="string">"com.android.camera.action.CROP"</span>);</div><div class="line">    intent.setDataAndType(path, <span class="string">"image/*"</span>);</div><div class="line">    intent.putExtra(<span class="string">"crop"</span>, <span class="string">"true"</span>);</div><div class="line">    <span class="comment">// aspectX aspectY 是宽高的比例</span></div><div class="line">    intent.putExtra(<span class="string">"aspectX"</span>, <span class="number">4</span>);</div><div class="line">    intent.putExtra(<span class="string">"aspectY"</span>, <span class="number">4</span>);</div><div class="line">    <span class="comment">// outputX outputY 是裁剪图片宽高</span></div><div class="line">    intent.putExtra(<span class="string">"outputX"</span>, <span class="number">300</span>);</div><div class="line">    intent.putExtra(<span class="string">"outputY"</span>, <span class="number">300</span>);</div><div class="line">    <span class="comment">//裁剪完成的图片有可能会出现黑边，添加以下两个参数即可</span></div><div class="line">    intent.putExtra(<span class="string">"scale"</span>, <span class="literal">true</span>);<span class="comment">//黑边</span></div><div class="line">    intent.putExtra(<span class="string">"scaleUpIfNeeded"</span>, <span class="literal">true</span>);<span class="comment">//黑边</span></div><div class="line">    intent.putExtra(<span class="string">"return-data"</span>, <span class="literal">true</span>);</div><div class="line">    startActivityForResult(intent, PHOTO_CUT_CODE);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="设置TextView显示一行超过部分以-显示"><a href="#设置TextView显示一行超过部分以-显示" class="headerlink" title="设置TextView显示一行超过部分以..显示"></a>设置TextView显示一行超过部分以..显示</h3><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">android:</span>ellipsize=<span class="string">"marquee"</span></div><div class="line"><span class="symbol">android:</span>maxEms=<span class="string">"10"</span></div><div class="line"><span class="symbol">android:</span>lines=<span class="string">"1"</span></div></pre></td></tr></table></figure>
<h3 id="设置失效时，原因是超过的首要校验条件是TextView布局的宽度，如果是match-parent并且很宽的话，该效果会“失效”"><a href="#设置失效时，原因是超过的首要校验条件是TextView布局的宽度，如果是match-parent并且很宽的话，该效果会“失效”" class="headerlink" title="设置失效时，原因是超过的首要校验条件是TextView布局的宽度，如果是match_parent并且很宽的话，该效果会“失效”"></a>设置失效时，原因是超过的首要校验条件是TextView布局的宽度，如果是match_parent并且很宽的话，该效果会“失效”</h3><h3 id="设置文本2行显示，多出部分省略号"><a href="#设置文本2行显示，多出部分省略号" class="headerlink" title="设置文本2行显示，多出部分省略号"></a>设置文本2行显示，多出部分省略号</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">tv_content</span><span class="selector-class">.setMaxLines</span>(2);</div><div class="line"><span class="selector-tag">tv_content</span><span class="selector-class">.setEllipsize</span>(<span class="selector-tag">TextUtils</span><span class="selector-class">.TruncateAt</span><span class="selector-class">.END</span>);</div></pre></td></tr></table></figure>
<h3 id="刷新ListView"><a href="#刷新ListView" class="headerlink" title="刷新ListView"></a>刷新ListView</h3><figure class="highlight abnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">adapter.notifyDataSetChanged()<span class="comment">;</span></div></pre></td></tr></table></figure>
</div><div class="tags"><a href="/tags/Android/">Android</a></div><div class="post-nav"><a href="/2017/10/12/hello-world/" class="pre">Hello World</a><a href="/2017/10/11/更换电脑-如何继续写博客/" class="next">更换电脑,如何继续写博客</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo博客相关/">hexo博客相关</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Android/" style="font-size: 15px;">Android</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/10/12/hello-world/">Hello World</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/11/Android笔记/">Android笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/11/更换电脑-如何继续写博客/">更换电脑,如何继续写博客</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://www.zhihu.com" title="知乎" target="_blank">知乎</a><ul></ul><a href="https://github.com" title="github" target="_blank">github</a><ul></ul><a href="http://www.jianshu.com/" title="简书" target="_blank">简书</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2017 <a href="/." rel="nofollow">李明阳の幻想乡.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.css"><script type="text/javascript" color="0,0,0" opacity="0.5" zIndex="-2" count="50" src="//cdn.bootcss.com/canvas-nest.js/1.0.1/canvas-nest.min.js"></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>